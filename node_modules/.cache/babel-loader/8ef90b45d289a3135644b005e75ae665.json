{"ast":null,"code":"var _jsxFileName = \"/home/alvaradof/cursoSolidity/solidity-liquidity-staking-front/src/context/DropFactory/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useEffect, useState } from \"react\"; //import DropFactoryContract from \"../../Contracts/NftDrop.json\";\n\nimport RewardTokenContract from \"../../Contracts/RewardToken.json\";\nimport { ethers } from \"ethers\"; //const DropFactoryContext = createContext();\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RewardTokenFactoryContext = /*#__PURE__*/createContext();\nexport function RewardTokenFactoryProvider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const address = RewardTokenContract.address;\n  const abi = RewardTokenContract.abi;\n  const [RewardTokenFactory, setDropFactory] = useState(null);\n  useEffect(() => {\n    const {\n      ethereum\n    } = window;\n    if (!ethereum) return alert(\"Install metamask\");\n    const provider = new ethers.providers.Web3Provider(ethereum);\n    const signer = provider.getSigner();\n    const RewardTokenContract = new ethers.Contract(address, abi, signer);\n    setDropFactory(RewardTokenContract);\n  }, [abi, address]);\n\n  const createDrop = async (maxSupply, name, cid, prefix, sufix, hiddenURI, maxPerTx) => {\n    try {\n      const tx = await dropFactory.createDrop(ethers.BigNumber.from(maxSupply), name, cid, prefix, sufix, hiddenURI, ethers.BigNumber.from(maxPerTx));\n      console.log(\"loading...\");\n      await tx.wait();\n      alert(\"drop create succesfully \" + tx.hash);\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  const totalDrops = async () => {\n    var _dropFactory;\n\n    return await ((_dropFactory = dropFactory) === null || _dropFactory === void 0 ? void 0 : _dropFactory.totalDrops());\n  };\n\n  const getAllDrops = async () => {\n    const dropsCount = await totalDrops();\n    const allDrops = [];\n\n    for (let i = 0; i < dropsCount; i++) {\n      const drop = await dropFactory.drops(i);\n      allDrops.push(drop);\n    }\n\n    return allDrops;\n  };\n\n  const getDropById = async dropId => {\n    var _dropFactory2;\n\n    return await ((_dropFactory2 = dropFactory) === null || _dropFactory2 === void 0 ? void 0 : _dropFactory2.drops(dropId));\n  };\n\n  const mintDrop = async (dropId, mintAmount) => {\n    try {\n      const tx = await dropFactory.mint(dropId, ethers.BigNumber.from(mintAmount), {\n        gasLimit: 750000,\n        value: ethers.utils.parseEther(\"0.01\").mul(mintAmount)\n      });\n      console.log(\"loading...\");\n      await tx.wait();\n      alert(\"mint succesfully \" + tx.hash);\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  const revealDrop = async dropId => {\n    try {\n      const tx = await dropFactory.defineDrop(dropId);\n      console.log(\"loading...\");\n      await tx.wait();\n      alert(\"drop revealed\" + tx.hash);\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(DropFactoryContext.Provider, {\n    value: {\n      address,\n      abi,\n      getAllDrops,\n      dropFactory,\n      createDrop,\n      totalDrops,\n      getDropById,\n      mintDrop,\n      revealDrop\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RewardTokenFactoryProvider, \"aPYUmog2KRF7pYpiPLE1G/PfYmY=\");\n\n_c = RewardTokenFactoryProvider;\nexport default DropFactoryContext;\n/*import React, { createContext, useEffect, useState } from \"react\";\nimport DropFactoryContract from \"../../Contracts/NftDrop.json\";\nimport { ethers } from \"ethers\";\n\nconst DropFactoryContext = createContext();\n\nexport function DropFactoryProvider({ children }) {\n  const address = DropFactoryContract.address;\n  const abi = DropFactoryContract.abi;\n  const [dropFactory, setDropFactory] = useState(null);\n  useEffect(() => {\n    const { ethereum } = window;\n    if (!ethereum) return alert(\"Install metamask\");\n    const provider = new ethers.providers.Web3Provider(ethereum);\n    const signer = provider.getSigner();\n    const dropFactoryContract = new ethers.Contract(address, abi, signer);\n    setDropFactory(dropFactoryContract);\n  }, [abi, address]);\n\n  const createDrop = async (\n    maxSupply,\n    name,\n    cid,\n    prefix,\n    sufix,\n    hiddenURI,\n    maxPerTx\n  ) => {\n    try {\n      const tx = await dropFactory.createDrop(\n        ethers.BigNumber.from(maxSupply),\n        name,\n        cid,\n        prefix,\n        sufix,\n        hiddenURI,\n        ethers.BigNumber.from(maxPerTx)\n      );\n      console.log(\"loading...\");\n      await tx.wait();\n      alert(\"drop create succesfully \" + tx.hash);\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n  const totalDrops = async () => {\n    return await dropFactory?.totalDrops();\n  };\n  const getAllDrops = async () => {\n    const dropsCount = await totalDrops();\n    const allDrops = [];\n    for (let i = 0; i < dropsCount; i++) {\n      const drop = await dropFactory.drops(i);\n      allDrops.push(drop);\n    }\n    return allDrops;\n  };\n  const getDropById = async (dropId) => {\n    return await dropFactory?.drops(dropId);\n  };\n  const mintDrop = async (dropId, mintAmount) => {\n    try {\n      const tx = await dropFactory.mint(\n        dropId,\n        ethers.BigNumber.from(mintAmount),\n        {\n          gasLimit: 750000,\n          value: ethers.utils.parseEther(\"0.01\").mul(mintAmount),\n        }\n      );\n      console.log(\"loading...\");\n      await tx.wait();\n      alert(\"mint succesfully \" + tx.hash);\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n  const revealDrop = async(dropId) => {\n    try {\n      const tx = await dropFactory.defineDrop(dropId);\n      console.log(\"loading...\");\n      await tx.wait();\n      alert(\"drop revealed\" + tx.hash);\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  return (\n    <DropFactoryContext.Provider\n      value={{\n        address,\n        abi,\n        getAllDrops,\n        dropFactory,\n        createDrop,\n        totalDrops,\n        getDropById,\n        mintDrop,\n    revealDrop\n      }}\n    >\n      {children}\n    </DropFactoryContext.Provider>\n  );\n}\nexport default DropFactoryContext;\n*/\n\nvar _c;\n\n$RefreshReg$(_c, \"RewardTokenFactoryProvider\");","map":{"version":3,"sources":["/home/alvaradof/cursoSolidity/solidity-liquidity-staking-front/src/context/DropFactory/index.jsx"],"names":["React","createContext","useEffect","useState","RewardTokenContract","ethers","RewardTokenFactoryContext","RewardTokenFactoryProvider","children","address","abi","RewardTokenFactory","setDropFactory","ethereum","window","alert","provider","providers","Web3Provider","signer","getSigner","Contract","createDrop","maxSupply","name","cid","prefix","sufix","hiddenURI","maxPerTx","tx","dropFactory","BigNumber","from","console","log","wait","hash","error","message","totalDrops","getAllDrops","dropsCount","allDrops","i","drop","drops","push","getDropById","dropId","mintDrop","mintAmount","mint","gasLimit","value","utils","parseEther","mul","revealDrop","defineDrop","DropFactoryContext"],"mappings":"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CF,GAhBD;;AAiBA,QAAMmB,UAAU,GAAG,MAAMT,MAAN,IAAiB;AAClC,QAAI;AACF,YAAMnB,EAAE,GAAG,MAAMC,WAAW,CAAC4B,UAAZ,CAAuBV,MAAvB,CAAjB;AACAf,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,YAAML,EAAE,CAACM,IAAH,EAAN;AACArB,MAAAA,KAAK,CAAC,kBAAkBe,EAAE,CAACO,IAAtB,CAAL;AACD,KALD,CAKE,OAAOC,KAAP,EAAc;AACdvB,MAAAA,KAAK,CAACuB,KAAK,CAACC,OAAP,CAAL;AACD;AACF,GATD;;AAWA,sBACE,QAAC,kBAAD,CAAoB,QAApB;AACE,IAAA,KAAK,EAAE;AACL9B,MAAAA,OADK;AAELC,MAAAA,GAFK;AAGL+B,MAAAA,WAHK;AAILV,MAAAA,WAJK;AAKLT,MAAAA,UALK;AAMLkB,MAAAA,UANK;AAOLQ,MAAAA,WAPK;AAQLE,MAAAA,QARK;AASTQ,MAAAA;AATS,KADT;AAAA,cAaGlD;AAbH;AAAA;AAAA;AAAA;AAAA,UADF;AAiBD;;GAnGeD,0B;;KAAAA,0B;AAoGhB,eAAeqD,kBAAf;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { createContext, useEffect, useState } from \"react\";\n//import DropFactoryContract from \"../../Contracts/NftDrop.json\";\nimport RewardTokenContract from \"../../Contracts/RewardToken.json\";\nimport { ethers } from \"ethers\";\n\n//const DropFactoryContext = createContext();\nconst RewardTokenFactoryContext = createContext();\n\n\nexport function RewardTokenFactoryProvider({ children }) {\n  const address = RewardTokenContract.address;\n  const abi = RewardTokenContract.abi;\n  const [RewardTokenFactory, setDropFactory] = useState(null);\n  useEffect(() => {\n    const { ethereum } = window;\n    if (!ethereum) return alert(\"Install metamask\");\n    const provider = new ethers.providers.Web3Provider(ethereum);\n    const signer = provider.getSigner();\n    const RewardTokenContract = new ethers.Contract(address, abi, signer);\n    setDropFactory(RewardTokenContract);\n  }, [abi, address]);\n\n  const createDrop = async (\n    maxSupply,\n    name,\n    cid,\n    prefix,\n    sufix,\n    hiddenURI,\n    maxPerTx\n  ) => {\n    try {\n      const tx = await dropFactory.createDrop(\n        ethers.BigNumber.from(maxSupply),\n        name,\n        cid,\n        prefix,\n        sufix,\n        hiddenURI,\n        ethers.BigNumber.from(maxPerTx)\n      );\n      console.log(\"loading...\");\n      await tx.wait();\n      alert(\"drop create succesfully \" + tx.hash);\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n  const totalDrops = async () => {\n    return await dropFactory?.totalDrops();\n  };\n  const getAllDrops = async () => {\n    const dropsCount = await totalDrops();\n    const allDrops = [];\n    for (let i = 0; i < dropsCount; i++) {\n      const drop = await dropFactory.drops(i);\n      allDrops.push(drop);\n    }\n    return allDrops;\n  };\n  const getDropById = async (dropId) => {\n    return await dropFactory?.drops(dropId);\n  };\n  const mintDrop = async (dropId, mintAmount) => {\n    try {\n      const tx = await dropFactory.mint(\n        dropId,\n        ethers.BigNumber.from(mintAmount),\n        {\n          gasLimit: 750000,\n          value: ethers.utils.parseEther(\"0.01\").mul(mintAmount),\n        }\n      );\n      console.log(\"loading...\");\n      await tx.wait();\n      alert(\"mint succesfully \" + tx.hash);\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n  const revealDrop = async(dropId) => {\n    try {\n      const tx = await dropFactory.defineDrop(dropId);\n      console.log(\"loading...\");\n      await tx.wait();\n      alert(\"drop revealed\" + tx.hash);\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  return (\n    <DropFactoryContext.Provider\n      value={{\n        address,\n        abi,\n        getAllDrops,\n        dropFactory,\n        createDrop,\n        totalDrops,\n        getDropById,\n        mintDrop,\n    revealDrop\n      }}\n    >\n      {children}\n    </DropFactoryContext.Provider>\n  );\n}\nexport default DropFactoryContext;\n\n\n\n\n\n\n/*import React, { createContext, useEffect, useState } from \"react\";\nimport DropFactoryContract from \"../../Contracts/NftDrop.json\";\nimport { ethers } from \"ethers\";\n\nconst DropFactoryContext = createContext();\n\nexport function DropFactoryProvider({ children }) {\n  const address = DropFactoryContract.address;\n  const abi = DropFactoryContract.abi;\n  const [dropFactory, setDropFactory] = useState(null);\n  useEffect(() => {\n    const { ethereum } = window;\n    if (!ethereum) return alert(\"Install metamask\");\n    const provider = new ethers.providers.Web3Provider(ethereum);\n    const signer = provider.getSigner();\n    const dropFactoryContract = new ethers.Contract(address, abi, signer);\n    setDropFactory(dropFactoryContract);\n  }, [abi, address]);\n\n  const createDrop = async (\n    maxSupply,\n    name,\n    cid,\n    prefix,\n    sufix,\n    hiddenURI,\n    maxPerTx\n  ) => {\n    try {\n      const tx = await dropFactory.createDrop(\n        ethers.BigNumber.from(maxSupply),\n        name,\n        cid,\n        prefix,\n        sufix,\n        hiddenURI,\n        ethers.BigNumber.from(maxPerTx)\n      );\n      console.log(\"loading...\");\n      await tx.wait();\n      alert(\"drop create succesfully \" + tx.hash);\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n  const totalDrops = async () => {\n    return await dropFactory?.totalDrops();\n  };\n  const getAllDrops = async () => {\n    const dropsCount = await totalDrops();\n    const allDrops = [];\n    for (let i = 0; i < dropsCount; i++) {\n      const drop = await dropFactory.drops(i);\n      allDrops.push(drop);\n    }\n    return allDrops;\n  };\n  const getDropById = async (dropId) => {\n    return await dropFactory?.drops(dropId);\n  };\n  const mintDrop = async (dropId, mintAmount) => {\n    try {\n      const tx = await dropFactory.mint(\n        dropId,\n        ethers.BigNumber.from(mintAmount),\n        {\n          gasLimit: 750000,\n          value: ethers.utils.parseEther(\"0.01\").mul(mintAmount),\n        }\n      );\n      console.log(\"loading...\");\n      await tx.wait();\n      alert(\"mint succesfully \" + tx.hash);\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n  const revealDrop = async(dropId) => {\n    try {\n      const tx = await dropFactory.defineDrop(dropId);\n      console.log(\"loading...\");\n      await tx.wait();\n      alert(\"drop revealed\" + tx.hash);\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  return (\n    <DropFactoryContext.Provider\n      value={{\n        address,\n        abi,\n        getAllDrops,\n        dropFactory,\n        createDrop,\n        totalDrops,\n        getDropById,\n        mintDrop,\n    revealDrop\n      }}\n    >\n      {children}\n    </DropFactoryContext.Provider>\n  );\n}\nexport default DropFactoryContext;\n*/"]},"metadata":{},"sourceType":"module"}